<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Django_09_CustomAuthUser_AbstractBaseUser - </title><meta name="Description" content="Hello New World"><meta property="og:title" content="Django_09_CustomAuthUser_AbstractBaseUser" />
<meta property="og:description" content="â€‹
Django AbstractBaseUser  djangoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ username ê³¼ passwordë¥¼ ê°€ì§€ê³  ë¡œê·¸ì¸í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìš”ì¦˜ì—ëŠ” ëŒ€ë¶€ë¶„ì˜ ì›¹ì‚¬ì´íŠ¸ë“¤ì´ email ê³¼ passwordë¡œ ë¡œê·¸ì¸(ì‚¬ìš©ìë¥¼ ì¸ì‹ ë° ì¸ì¦)ì„ í•©ë‹ˆë‹¤.
ì œê°€ ì§„í–‰í•  ê²ƒì€ djangoì˜ ì‚¬ìš©ì ì¸ì¦ í…Œì´ë¸”ì„ AbstractBaseUserì„ ì‚¬ìš©í•´ ì»¤ìŠ¤í…€í•˜ê³ , createsuperuser ëª…ë ¹ì–´ ì…ë ¥ì‹œ, ê´€ë¦¬ì ê³„ì •ì´ ì»¤ìŠ¤í…€í•œ í…Œì´ë¸”ì— ìƒì„±ë˜ê²Œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
 â€‹
Django ê³µì‹ë¬¸ì„œì—ëŠ” models.pyì—ì„œ ê¸°ë³¸ì ì¸ ì‚¬ìš©ìëª¨ë¸ì„ ì„¤ì •í•˜ê³  ì´ë¥¼ í™œìš©í•´ admin.pyì—ì„œ ê´€ë¦¬ìëª¨ë¸ì„ ë§Œë“œëŠ” ì˜ˆì œê°€ ìˆì–´ ì´ë¥¼ ë”°ë¼í•˜ë©° ì•½ê°„ì˜ ìˆ˜ì •ì„ ë”í•´ ì§„í–‰í•´ë³´ë ¤ í•©ë‹ˆë‹¤.
â€‹
ë¨¼ì € AbstractBaseUserë¥¼ ìƒì†ë°›ì•„ ì»¤ìŠ¤í…€ì„ ì§„í–‰  djangoì˜ ì˜ˆì œì—ëŠ” AbstractBaseUserë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ëª¨ë¸ì„ ì œì‘í•˜ëŠ”ë°, Abstract(ì¶”ìƒì ì¸)Base(ê¸°ì´ˆ)User(ì‚¬ìš©ì)ì˜ í‹€ì„ ê°€ì ¸ì™€ ì´ë¥¼ í™œìš©í•´ ë‚´ ì…ë§›ëŒ€ë¡œ ì»¤ìŠ¤í…€ í•˜ëŠ” ê³¼ì •." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://colinder.github.io/django_09_customauthuser_abstractbaseuser/" /><meta property="og:image" content="https://colinder.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-08T10:17:50&#43;09:00" />
<meta property="article:modified_time" content="2021-10-08T10:17:50&#43;09:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://colinder.github.io/logo.png"/>

<meta name="twitter:title" content="Django_09_CustomAuthUser_AbstractBaseUser"/>
<meta name="twitter:description" content="â€‹
Django AbstractBaseUser  djangoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ username ê³¼ passwordë¥¼ ê°€ì§€ê³  ë¡œê·¸ì¸í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìš”ì¦˜ì—ëŠ” ëŒ€ë¶€ë¶„ì˜ ì›¹ì‚¬ì´íŠ¸ë“¤ì´ email ê³¼ passwordë¡œ ë¡œê·¸ì¸(ì‚¬ìš©ìë¥¼ ì¸ì‹ ë° ì¸ì¦)ì„ í•©ë‹ˆë‹¤.
ì œê°€ ì§„í–‰í•  ê²ƒì€ djangoì˜ ì‚¬ìš©ì ì¸ì¦ í…Œì´ë¸”ì„ AbstractBaseUserì„ ì‚¬ìš©í•´ ì»¤ìŠ¤í…€í•˜ê³ , createsuperuser ëª…ë ¹ì–´ ì…ë ¥ì‹œ, ê´€ë¦¬ì ê³„ì •ì´ ì»¤ìŠ¤í…€í•œ í…Œì´ë¸”ì— ìƒì„±ë˜ê²Œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
 â€‹
Django ê³µì‹ë¬¸ì„œì—ëŠ” models.pyì—ì„œ ê¸°ë³¸ì ì¸ ì‚¬ìš©ìëª¨ë¸ì„ ì„¤ì •í•˜ê³  ì´ë¥¼ í™œìš©í•´ admin.pyì—ì„œ ê´€ë¦¬ìëª¨ë¸ì„ ë§Œë“œëŠ” ì˜ˆì œê°€ ìˆì–´ ì´ë¥¼ ë”°ë¼í•˜ë©° ì•½ê°„ì˜ ìˆ˜ì •ì„ ë”í•´ ì§„í–‰í•´ë³´ë ¤ í•©ë‹ˆë‹¤.
â€‹
ë¨¼ì € AbstractBaseUserë¥¼ ìƒì†ë°›ì•„ ì»¤ìŠ¤í…€ì„ ì§„í–‰  djangoì˜ ì˜ˆì œì—ëŠ” AbstractBaseUserë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ëª¨ë¸ì„ ì œì‘í•˜ëŠ”ë°, Abstract(ì¶”ìƒì ì¸)Base(ê¸°ì´ˆ)User(ì‚¬ìš©ì)ì˜ í‹€ì„ ê°€ì ¸ì™€ ì´ë¥¼ í™œìš©í•´ ë‚´ ì…ë§›ëŒ€ë¡œ ì»¤ìŠ¤í…€ í•˜ëŠ” ê³¼ì •."/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://colinder.github.io/django_09_customauthuser_abstractbaseuser/" /><link rel="prev" href="https://colinder.github.io/django_08_abstractbaseuservsabstractuser/" /><link rel="next" href="https://colinder.github.io/django_10_customauthuser_abstractuser/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><meta name="google-site-verification" content="colinder" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Django_09_CustomAuthUser_AbstractBaseUser",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/colinder.github.io\/django_09_customauthuser_abstractbaseuser\/"
        },"genre": "posts","keywords": "Django, AbstractBaseUser","wordcount":  1057 ,
        "url": "https:\/\/colinder.github.io\/django_09_customauthuser_abstractbaseuser\/","datePublished": "2021-10-08T10:17:50+09:00","dateModified": "2021-10-08T10:17:50+09:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "colinder"
            },"description": ""
    }
    </script></head>
    <body header-desktop="auto" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="">Hello New World</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/categories/" title="ëŒ€ë¶„ë¥˜"> Categories </a><a class="menu-item" href="/posts/" title="ê²Œì‹œê¸€"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="ê²€ìƒ‰í•  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="">Hello New World</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="ê²€ìƒ‰í•  ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/categories/" title="ëŒ€ë¶„ë¥˜">Categories</a><a class="menu-item" href="/posts/" title="ê²Œì‹œê¸€">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Django_09_CustomAuthUser_AbstractBaseUser</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>colinder</a></span>&nbsp;<span class="post-category">included in <a href="/categories/django/"><i class="far fa-folder fa-fw"></i>Django</a>&nbsp;<a href="/categories/abstractbaseuser/"><i class="far fa-folder fa-fw"></i>AbstractBaseUser</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-10-08">2021-10-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1057 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="true">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#ë¨¼ì €-abstractbaseuserë¥¼-ìƒì†ë°›ì•„-ì»¤ìŠ¤í…€ì„-ì§„í–‰">ë¨¼ì € AbstractBaseUserë¥¼ ìƒì†ë°›ì•„ ì»¤ìŠ¤í…€ì„ ì§„í–‰</a></li>
    <li><a href="#baseusermanagerë¥¼-ìƒì†ë°›ëŠ”-usermanager-ì •ì˜">BaseUserManagerë¥¼ ìƒì†ë°›ëŠ” UserManager ì •ì˜</a>
      <ul>
        <li>
          <ul>
            <li><a href="#ì½”ë“œë„-í¬ê²Œ-ë³µì¡í•˜ì§€-ì•Šê³ -ì¡°ê¸ˆë§Œ-ì„¸ì„¸íˆ-ë³¸ë‹¤ë©´-ê¸ˆë°©-ì´í•´í• -ìˆ˜-ìˆì—ˆê³ -ì›í•˜ëŠ”-ëª¨ìŠµìœ¼ë¡œ-ì„¤ì •í•˜ê¸°ì—-ì‰¬ìš´-ëª¨ìŠµì„-í•˜ê³ -ìˆì—ˆìŠµë‹ˆë‹¤">ì½”ë“œë„ í¬ê²Œ ë³µì¡í•˜ì§€ ì•Šê³  ì¡°ê¸ˆë§Œ ì„¸ì„¸íˆ ë³¸ë‹¤ë©´ ê¸ˆë°© ì´í•´í•  ìˆ˜ ìˆì—ˆê³ , ì›í•˜ëŠ” ëª¨ìŠµìœ¼ë¡œ ì„¤ì •í•˜ê¸°ì— ì‰¬ìš´ ëª¨ìŠµì„ í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>â€‹</p>
<h1 id="django-span-stylecolor-4f8ae8abstractbaseuserspan">Django <span style="color: #4f8ae8">AbstractBaseUser</span></h1>
<blockquote>
<p>djangoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ username ê³¼ passwordë¥¼ ê°€ì§€ê³  ë¡œê·¸ì¸í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìš”ì¦˜ì—ëŠ” ëŒ€ë¶€ë¶„ì˜ ì›¹ì‚¬ì´íŠ¸ë“¤ì´ email ê³¼ passwordë¡œ ë¡œê·¸ì¸(ì‚¬ìš©ìë¥¼ ì¸ì‹ ë° ì¸ì¦)ì„ í•©ë‹ˆë‹¤.</p>
<p>ì œê°€ ì§„í–‰í•  ê²ƒì€ djangoì˜ ì‚¬ìš©ì ì¸ì¦ í…Œì´ë¸”ì„ <span style="color: #4f8ae8">AbstractBaseUser</span>ì„ ì‚¬ìš©í•´ ì»¤ìŠ¤í…€í•˜ê³ , createsuperuser ëª…ë ¹ì–´ ì…ë ¥ì‹œ, ê´€ë¦¬ì ê³„ì •ì´ ì»¤ìŠ¤í…€í•œ í…Œì´ë¸”ì— ìƒì„±ë˜ê²Œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
</blockquote>
<p>â€‹</p>
<p>Django ê³µì‹ë¬¸ì„œì—ëŠ” models.pyì—ì„œ ê¸°ë³¸ì ì¸ <strong>ì‚¬ìš©ì</strong>ëª¨ë¸ì„ ì„¤ì •í•˜ê³  ì´ë¥¼ í™œìš©í•´ admin.pyì—ì„œ <strong>ê´€ë¦¬ì</strong>ëª¨ë¸ì„ ë§Œë“œëŠ” ì˜ˆì œê°€ ìˆì–´ ì´ë¥¼ ë”°ë¼í•˜ë©° ì•½ê°„ì˜ ìˆ˜ì •ì„ ë”í•´ ì§„í–‰í•´ë³´ë ¤ í•©ë‹ˆë‹¤.</p>
<p>â€‹</p>
<h2 id="ë¨¼ì €-abstractbaseuserë¥¼-ìƒì†ë°›ì•„-ì»¤ìŠ¤í…€ì„-ì§„í–‰">ë¨¼ì € AbstractBaseUserë¥¼ ìƒì†ë°›ì•„ ì»¤ìŠ¤í…€ì„ ì§„í–‰</h2>
<blockquote>
<p>djangoì˜ ì˜ˆì œì—ëŠ” AbstractBaseUserë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ëª¨ë¸ì„ ì œì‘í•˜ëŠ”ë°, Abstract(ì¶”ìƒì ì¸)Base(ê¸°ì´ˆ)User(ì‚¬ìš©ì)ì˜ í‹€ì„ ê°€ì ¸ì™€ ì´ë¥¼ í™œìš©í•´ ë‚´ ì…ë§›ëŒ€ë¡œ ì»¤ìŠ¤í…€ í•˜ëŠ” ê³¼ì •.</p>
<p>ë˜í•œ, ê³„ì •ê´€ë ¨ ëª¨ë¸ì„ ë§Œë“œëŠ” ê²½ìš°ì—ëŠ” í•­ìƒ ë‘ê°€ì§€ë¥¼ ìƒê°í•´ì•¼ í•©ë‹ˆë‹¤. <strong>ì¼ë°˜ì‚¬ìš©ì</strong>, <strong>ê´€ë¦¬ì</strong></p>
</blockquote>
<p><code>AbstractBaseUser</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë¡œê·¸ì¸ ë°©ì‹ë„ ë³€ê²½í•  ìˆ˜ ìˆê³ <span style="font-size: 0.8em; color:grey">(ë‚´ë§ˆìŒëŒ€ë¡œ êµ¬ì„±)</span>, ì›í•˜ëŠ” í•„ë“œë“¤ë¡œ ìœ ì € ëª¨ë¸ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” <code>email</code>, <code>password</code>ë¥¼ í™œìš©í•˜ì—¬ ë¡œê·¸ì¸í•˜ê³  ì¶”ê°€ì ìœ¼ë¡œ <code>nickname</code>ì„ ê°€ì§€ëŠ” ìœ ì € ëª¨ë¸ì„ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>ì´ ë•Œ <code>BaseUserManager</code>ë¥¼ ìƒì†í•˜ëŠ” <code>UserManager</code>ë¥¼ í•¨ê»˜ ì •ì˜í•˜ì—¬ ì¼ë°˜ ìœ ì € ë° ìŠˆí¼ìœ ì €ì˜ ìƒì„± ë°©ì‹ì„ ì •ì˜í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤.  (ë˜ <code>PermissionsMixin</code> ì„ í•¨ê»˜ ìƒì†í•˜ë©´ Djangoì˜ ê¸°ë³¸ê·¸ë£¹, í—ˆê°€ê¶Œ ê´€ë¦¬ ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê² ìŠµë‹ˆë‹¤.)</p>
<p>â€‹</p>
<h2 id="baseusermanagerë¥¼-ìƒì†ë°›ëŠ”-usermanager-ì •ì˜">BaseUserManagerë¥¼ ìƒì†ë°›ëŠ” UserManager ì •ì˜</h2>
<blockquote>
<p>BaseUserManager í´ë˜ìŠ¤ëŠ” ìœ ì €ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í—¬í¼(helper) í´ë˜ìŠ¤ì´ë©°, ì‹¤ì œ ëª¨ë¸(model)ì— ë°˜ì˜ë˜ëŠ” ê²ƒì€ AbstractBaseUserì„ ìƒì†ë°›ì•„ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤ê°€ ë  ê²ƒì…ë‹ˆë‹¤.</p>
<blockquote>
<p>ì•„ë˜ì˜ ì½”ë“œëŠ” í¬ê²Œ ë‘ê°€ì§€ classë¥¼ ì„ ì–¸í•´ ì‚¬ìš©í•˜ê³  ìˆê³ , ë™ì‘ì˜ íë¦„ì€,</br>ì•„ë˜ class(MyUser) â†’ ìœ„ class(MyUserManager) ìˆœì„œë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p>
</blockquote>
</blockquote>
<p>ì†ŒìŠ¤ ì½”ë“œ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># accounts/models.py</span>

<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">AbstractBaseUser</span><span class="p">,</span> <span class="n">BaseUserManager</span>

<span class="k">class</span> <span class="nc">MyUserManager</span><span class="p">(</span><span class="n">BaseUserManager</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">nickname</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">email</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Users must have an email address&#39;</span><span class="p">)</span>

        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">(</span>
            <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_email</span><span class="p">(</span><span class="n">email</span><span class="p">),</span>
            <span class="n">nickname</span><span class="o">=</span><span class="n">nickname</span>
        <span class="p">)</span>

        <span class="n">user</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">user</span>

    <span class="k">def</span> <span class="nf">create_superuser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">nickname</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
            <span class="n">email</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
            <span class="n">nickname</span><span class="o">=</span><span class="n">nickname</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">is_admin</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">user</span>


<span class="k">class</span> <span class="nc">MyUser</span><span class="p">(</span><span class="n">AbstractBaseUser</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span>
        <span class="n">verbose_name</span><span class="o">=</span><span class="s1">&#39;email addresss&#39;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">nickname</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span>

    <span class="n">is_active</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">is_admin</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">objects</span> <span class="o">=</span> <span class="n">MyUserManager</span><span class="p">()</span>

    <span class="n">USERNAME_FIELD</span> <span class="o">=</span> <span class="s1">&#39;email&#39;</span>

    <span class="n">REQUIRED_FIELDS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_staff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_admin</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>ì„¤ëª…ì´ ìˆëŠ”</strong> ì†ŒìŠ¤ì½”ë“œ(ìœ„ì™€ ë™ì¼í•œ ì½”ë“œì´ë‚˜ ìì„¸í•œ ì„¤ëª…ì´ ìˆìŠµë‹ˆë‹¤.)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># accounts/models.py</span>

<span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">AbstractBaseUser</span><span class="p">,</span> <span class="n">BaseUserManager</span>

<span class="c1"># ìœ„ì—ì„œ ì„¤ëª…í•œ ì¼ë°˜ ìœ ì € ë° ìŠˆí¼ìœ ì €ì˜ ìƒì„± ë°©ì‹ì„ ì •ì˜í•  BaseUserManagerë¥¼ ìƒì†ë°›ëŠ”</span>
<span class="c1"># ë‚˜ë§Œì˜ ì‚¬ìš©ì ë§¤ë‹ˆì € ëª¨ë¸ì„ ìƒì„±í•©ë‹ˆë‹¤. í•„ìˆ˜ì…ë‹ˆë‹¤.</span>
<span class="k">class</span> <span class="nc">MyUserManager</span><span class="p">(</span><span class="n">BaseUserManager</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">nickname</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
		<span class="c1"># ë§Œì•½ emailì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ ì—ëŸ¬ë¥¼ ë±‰ìŠµë‹ˆë‹¤.</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">email</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Users must have an email address&#39;</span><span class="p">)</span>
		
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">(</span>
            <span class="n">email</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">normalize_email</span><span class="p">(</span><span class="n">email</span><span class="p">),</span>
            <span class="n">nickname</span><span class="o">=</span><span class="n">nickname</span>
        <span class="p">)</span>
		<span class="c1"># ë¹„ë°€ë²ˆí˜¸ëŠ” ì•”í˜¸í™”(set_password)í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.</span>
        <span class="n">user</span><span class="o">.</span><span class="n">set_password</span><span class="p">(</span><span class="n">password</span><span class="p">)</span>
        <span class="c1"># ë“±ë¡ëœ ì‚¬ìš©ì ì •ë³´ë¥¼ DBì— ì €ì¥í•©ë‹ˆë‹¤.</span>
        <span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
        <span class="c1"># ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ë¥¼ returní•©ë‹ˆë‹¤.</span>
        <span class="k">return</span> <span class="n">user</span>

    <span class="c1"># python manage.py createsuperuser ëª…ë ¹ì–´ ì…ë ¥ì‹œ = ê´€ë¦¬ì ê³„ì • ìƒì„±ì‹œ</span>
    <span class="k">def</span> <span class="nf">create_superuser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">nickname</span><span class="p">,</span> <span class="n">password</span><span class="p">):</span>
		
        <span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
            <span class="n">email</span><span class="p">,</span>
            <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">,</span>
            <span class="n">nickname</span><span class="o">=</span><span class="n">nickname</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">user</span><span class="o">.</span><span class="n">is_admin</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="n">user</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">using</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_db</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">user</span>


<span class="k">class</span> <span class="nc">MyUser</span><span class="p">(</span><span class="n">AbstractBaseUser</span><span class="p">):</span>
    <span class="c1"># DBì— ì €ì¥í•  columnë“¤ì„ ì„¤ì •í•©ë‹ˆë‹¤. </span>
	<span class="c1"># ì €ëŠ” email, nicknameì„ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.</span>
    <span class="c1"># passwordëŠ” í•„ìˆ˜ê°’ì´ê¸°ì— ì„¤ì •í•˜ì§€ ì•Šì•„ë„ ì…ë ¥ë°›ìŠµë‹ˆë‹¤.</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span>
        <span class="n">verbose_name</span><span class="o">=</span><span class="s1">&#39;email addresss&#39;</span><span class="p">,</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">nickname</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span>
    
    <span class="c1"># ì‚¬ìš©ì ì¸ì¦ì— ì‚¬ìš©ë  ê³„ì •ì„ ë“±ë¡í•  ë•Œ is_activeì™€ is_adminë„ í•„ìˆ˜ê°’ì´ê¸° ë•Œë¬¸ì—</span>
    <span class="c1"># ë°˜ë“œì‹œ ì§€ì •í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. (ì•ˆí•˜ë©´ ì˜¤ë¥˜ë¥¼ ë±‰ìŠµë‹ˆë‹¤.)</span>
    <span class="n">is_active</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">is_admin</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
	
    <span class="c1"># ìœ„ì—ì„œ ìƒì„±í•œ ì¼ë°˜ ìœ ì € ë° ìŠˆí¼ìœ ì €ì˜ ìƒì„± ë°©ì‹ì„ ì •ì˜í•  ë‚˜ë§Œì˜ ì‚¬ìš©ì ë§¤ë‹ˆì € ëª¨ë¸ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.</span>
    <span class="n">objects</span> <span class="o">=</span> <span class="n">MyUserManager</span><span class="p">()</span>
	
    <span class="c1"># uniqueí•œ ê°’ìœ¼ë¡œ ì„¤ì •í•  ê²ƒì„ ì£¼ë¡œ USERNAME_FIELDë¡œ ì„¤ì •í•©ë‹ˆë‹¤.</span>
    <span class="c1"># ì €ëŠ” emailì˜ ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•Šê³  ì´ë¥¼ ì‹ë³„ê°’(PK) ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.(í•„ìˆ˜)</span>
    <span class="n">USERNAME_FIELD</span> <span class="o">=</span> <span class="s1">&#39;email&#39;</span>

    <span class="c1"># createsuperuser ì‹œ USERNAME_FIELDì™€ password ë§ê³  ì¶”ê°€ë¡œ ë°›ì•„ì•¼ í•˜ëŠ” ì¸ìë¥¼ ê¸°ì¬.</span>
    <span class="c1"># ìƒê¸° í”„ë¡œì íŠ¸ì˜ ê²½ìš° email, nickname, passwordë¥¼ ë°›ì•„ì•¼ í•˜ë‹ˆ</span>
    <span class="c1"># ê¸°ë³¸ìœ¼ë¡œ ë°›ëŠ” ì¸ìì¸ USERNAME_FIELD = &#39;email&#39;ê³¼ password ë§ê³  ë‚˜ë¨¸ì§€ ìš”ì†Œë¥¼ ê¸°ì¬</span>
    <span class="n">REQUIRED_FIELDS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,]</span>

    <span class="c1"># ì´ ì•„ë˜ëŠ” ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤.</span>
    <span class="k">def</span> <span class="nf">has_perm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">perm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s2">&#34;Does the user have a specific permission?&#34;</span>
        <span class="c1"># Simplest possible answer: Yes, always</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">has_module_perms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_label</span><span class="p">):</span>
        <span class="s2">&#34;Does the user have permissions to view the app `app_label`?&#34;</span>
        <span class="c1"># Simplest possible answer: Yes, always</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_staff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&#34;Is the user a member of staff?&#34;</span>
        <span class="c1"># Simplest possible answer: All admins are staff</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_admin</span>
</code></pre></td></tr></table>
</div>
</div><p>í•´ë‹¹ ì‚¬í•­ì„ ì •ë¦¬í•˜ë©´ì„œ <code>í•„ìˆ˜</code>ë¼ê³  ê¸°ì¬ëœ ë‚´ìš©ì€ ì»¤ìŠ¤í…€ ì‚¬ìš©ì ì¸ì¦ í…Œì´ë¸”ì„ ë§Œë“¤ ìµœì†Œí•œì˜ í•„ìˆ˜ ìš”ì†Œì…ë‹ˆë‹¤.</p>
<p>â€‹</p>
<p>ì´í›„ MyUserë¥¼ settings.pyì— ë“±ë¡.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># setting.py ì•„ë¬´ê³³ì—ë‚˜ ex) &#39;ì•±ì´ë¦„.í´ë˜ìŠ¤ëª…&#39;</span>
<span class="n">AUTH_USER_MODEL</span> <span class="o">=</span> <span class="s1">&#39;accounts.MyUser&#39;</span>
<span class="o">...</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
<p>ì´ì œ Terminalì— ê´€ë¦¬ì ìƒì„± ëª…ë ¹ì–´ ì…ë ¥..</p>
<p><em>ì ê¹! ì œê°€ ë§Œë“  ì½”ë“œë“¤ì´ ë™ì‘í•˜ëŠ”ì§€ ì•Œê¸° ìœ„í•´ì„œ <strong>ì˜ë„í•œ ì‹¤ìˆ˜ í‘œê¸°ë²•</strong>ì¸ &ldquo;Email addresss&quot;ë¼ëŠ” input ë©”ì‹œì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</em></p>
<image src="/images/Django_09_CustomAuthUser_AbstractBaseUser.assets\image-20211007094210138.png" width="700px">
<p>â€‹</p>
<p>ì´ì œ DBë¥¼ í™•ì¸í•˜ëŠ”ë° ì œê°€ ë§Œë“  accountsì•±ì˜ myuser í…Œì´ë¸”ì— ìƒì„±ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.</p>
<image src="/images/Django_09_CustomAuthUser_AbstractBaseUser.assets\image-20211007094318582.png" width="1000px">
<p>ë˜ django ê¸°ë³¸ ì‚¬ìš©ì ì¸ì¦ í…Œì´ë¸”ì¸ auth_userì— ìƒê¸°ì§€ ì•Šì•˜ëŠ”ì§€ë„ í™•ì¸í•©ë‹ˆë‹¤.</p>
<image src="/images/Django_09_CustomAuthUser_AbstractBaseUser.assets\image-20211007094426949.png" width="1000px">
<p>ì˜ë„í•œëŒ€ë¡œ ê´€ë¦¬ì ê³„ì •ì´ ìƒê¸´ê²ƒì„ í™•ì¸í•˜ì˜€ê³  <span style="color: #4f8ae8;"><b>AbstractBaseUser</b></span>ì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<p>â€‹</p>
<h4 id="ì½”ë“œë„-í¬ê²Œ-ë³µì¡í•˜ì§€-ì•Šê³ -ì¡°ê¸ˆë§Œ-ì„¸ì„¸íˆ-ë³¸ë‹¤ë©´-ê¸ˆë°©-ì´í•´í• -ìˆ˜-ìˆì—ˆê³ -ì›í•˜ëŠ”-ëª¨ìŠµìœ¼ë¡œ-ì„¤ì •í•˜ê¸°ì—-ì‰¬ìš´-ëª¨ìŠµì„-í•˜ê³ -ìˆì—ˆìŠµë‹ˆë‹¤">ì½”ë“œë„ í¬ê²Œ ë³µì¡í•˜ì§€ ì•Šê³  ì¡°ê¸ˆë§Œ ì„¸ì„¸íˆ ë³¸ë‹¤ë©´ ê¸ˆë°© ì´í•´í•  ìˆ˜ ìˆì—ˆê³ , ì›í•˜ëŠ” ëª¨ìŠµìœ¼ë¡œ ì„¤ì •í•˜ê¸°ì— ì‰¬ìš´ ëª¨ìŠµì„ í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.</h4>
<p>â€‹</p>
<p>â€‹</p>
<p><span style="color: #f2b141"><b>AbstractUser</b></span>ì˜ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì€ ë‹¤ìŒ ê¸€ì— ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<p>â€‹</p>
<p>â€‹</p>
<p>â€‹</p>
<h1 id="ì˜¤ë¥˜-ëª¨ìŒ"><strong>ğŸ”§ì˜¤ë¥˜ ëª¨ìŒ</strong></h1>
<ol>
<li>
<p><em>Non-default argument follows default argument</em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">BaseUserManager</span>

<span class="k">class</span> <span class="nc">MyUserManager</span><span class="p">(</span><span class="n">BaseUserManager</span><span class="p">):</span>
	<span class="k">def</span> <span class="nf">create_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>  
    <span class="c1"># ì´ë ‡ê²Œ ì‘ì„±í–ˆì„ ë•Œ usernameì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ë‹¤. </span>
</code></pre></td></tr></table>
</div>
</div><p>ì›ì¸ì€ usernameì„ ì¸ìë¡œ ë°›ëŠ”ë° emailì´ë‚˜ passwordë³´ë‹¤ ì•ì„œ ì…ë ¥ì„ ë°›ì•¼ì•„ í•œë‹¤ ì™œëƒí•˜ë©´, default(value parameterëŠ” ìƒëµ)ëŠ” non-default ì•ì— ì˜¤ë©´ ì•ˆëœë‹¤.ëŠ” ê·œì¹™ì´ ìˆê¸° ë•Œë¬¸.</p>
<p>â€‹</p>
</li>
<li>
<p>Dependency on app with no migrations: accounts</p>
<blockquote>
<p>custom userì˜ ëª¨ë¸ì„ ë§Œë“¤ê³ (models.py ìˆ˜ì • í›„) ë§ˆì´ê·¸ë ˆì´ì…˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì§€ ì•Šì•„ì„œ ë°œìƒí•œ ì˜¤ë¥˜ ê°™ë‹¤.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;</span> <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">makemigrations</span>
<span class="o">&gt;</span> <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span>
<span class="c1"># ëª…ë ¹ì–´ ì…ë ¥ í›„ í•´ê²°</span>
</code></pre></td></tr></table>
</div>
</div><p>â€‹</p>
</li>
<li>
<p>You are trying to add a non-nullable field &lsquo;nickname&rsquo; to myuser without a default; we can&rsquo;t do that (the database needs something to populate existing rows).
Please select a fix:</p>
<pre><code>1) Provide a one-off default now (will be set on all existing rows with a null value for this column)
2) Quit, and let me add a default in models.py
</code></pre>
<blockquote>
<p>ì´ ì˜¤ë¥˜ëŠ” DB, ëª¨ë¸ì„ ìˆ˜ì •í•  ê²½ìš°ì— ìì£¼ ë°œìƒí•˜ëŠ”ë°, ê¸°ì¡´ì— makemigrations ë¥¼ í†µí•´ ì¡´ì¬í•˜ëŠ” ì •ë³´ë“¤ì„ ì–´ë–»ê²Œ ìˆ˜ì •í•  ì§€ ì •í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸.</p>
<p>ì½”ë“œìƒìœ¼ë¡œ í•´ê²°í•˜ëŠ” ë°©ë²•ê³¼ ë¬¼ë¦¬ì ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ë°©ë²•ì´ ì¡´ì¬.</p>
<blockquote>
<p>ì½”ë“œë¡œëŠ” <strong>CharField(default = &lsquo;')  or  CharField(null = True)</strong> ê°™ì´ defaultê°’ê³¼ null ì„ í—ˆìš©í•´ì„œ ê¸°ì¡´ì˜ ë°ì´í„°ë“¤ì„ null ê°’ì´ë‚˜ default ê°’ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²•ê³¼ <br>migrations í´ë”ì•ˆì˜ ìš”ì†Œë¥¼ ì§€ìš°ëŠ” ë°©ë²•ì´ ìˆìœ¼ë‚˜ ì´ëŠ” ê¸°ì¡´ì˜ ë°ì´í„°ë¥¼ ëª¨ë‘ ì§€ìš°ê³  ìƒˆë¡­ê²Œ ì‹œì‘í•˜ëŠ” ë°©ë²•ì´ ì¡´ì¬(ë¹„ì¶”..)</p>
</blockquote>
</blockquote>
</li>
</ol>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-10-08</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/django_09_customauthuser_abstractbaseuser/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/django/">Django</a>,&nbsp;<a href="/tags/abstractbaseuser/">AbstractBaseUser</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/django_08_abstractbaseuservsabstractuser/" class="prev" rel="prev" title="Django_08_AbstractBaseUser VS AbstractUser"><i class="fas fa-angle-left fa-fw"></i>Django_08_AbstractBaseUser VS AbstractUser</a>
            <a href="/django_10_customauthuser_abstractuser/" class="next" rel="next" title="Django_10_CustomAuthUser_AbstractUser">Django_10_CustomAuthUser_AbstractUser<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.83.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">colinder</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="https://colinder-github-io.disqus.com/embed.js" defer></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
